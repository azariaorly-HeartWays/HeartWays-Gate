<!doctype html>
<html lang="he" dir="rtl">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>×‘×“×™×§×ª HeartWays</title>
<style>
  html,body{height:100%;margin:0;font-family:system-ui;background:#f2f7ff;display:grid;place-items:center}
  .card{background:#fff;border-radius:16px;padding:24px;box-shadow:0 10px 30px rgba(0,0,0,.08);text-align:center;max-width:520px}
  h1{margin:0 0 8px;color:#173b6f} p{margin:0 0 16px;color:#2b5a92}
  button{border:0;border-radius:999px;padding:12px 18px;background:#e6f0ff;font-weight:800;cursor:pointer}
</style>
<div class="card">
  <h1>×‘×“×™×§×ª ×”×¢×œ××”</h1>
  <p>×× ×“×£ ×–×” × ×¨××” ××¡×•×“×¨ â€” ×”×ª×©×ª×™×ª ×©×œ GitHub Pages ×ª×§×™× ×”.</p>
  <button onclick="alert('×¢×•×‘×“! ××¤×©×¨ ×œ×”×—×–×™×¨ ××ª ×”×“××• ×”××œ×')">×‘×“×™×§×”</button>
</div>
</html>.cover,.pages,.back{position:absolute;inset:0;border-radius:14px}.cover{background:linear-gradient(135deg,rgba(255,255,255,.95),rgba(245,248,255,.85));box-shadow:0 30px 60px rgba(0,0,0,.18);transform:translateZ(24px)}.pages{background:repeating-linear-gradient(90deg,#fff 0 4px,#f2f4ff 4px 8px);transform:translateZ(12px)}.back{background:linear-gradient(135deg,rgba(230,238,255,.9),rgba(255,255,255,.9))}
.sun{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:120px;height:120px;background:radial-gradient(circle,#fff7d6 0 40%,#ffd87a 60%,transparent 62%),var(--star-grad-center,linear-gradient(180deg,#fff2bf,#ffd97a));clip-path:polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);filter:drop-shadow(0 18px 28px rgba(0,0,0,.18));animation:pulse 3.2s ease-in-out infinite}
@keyframes pulse{0%,100%{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.06)}}
.overlay{position:fixed;inset:0;background:rgba(15,34,51,.28);display:none;align-items:center;justify-content:center;z-index:9999}
.modal{padding:22px;border-radius:22px;background:rgba(255,255,255,.92);backdrop-filter:blur(12px) saturate(140%);box-shadow:var(--sh);width:min(92vw,720px);text-align:center;color:#163a6b}
.big-star{width:120px;height:120px;margin:0 auto 10px;background:linear-gradient(180deg,#fffaf0,#ffe7b8);clip-path:polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);animation:float 6s ease-in-out infinite;filter:drop-shadow(0 8px 22px rgba(0,0,0,.16))}
.pill{display:inline-flex;gap:.5rem;padding:.65rem 1.1rem;border-radius:999px;background:linear-gradient(180deg,#eef4ff,#dfeaff);color:#163a6b;font-weight:900;box-shadow:var(--sh);text-decoration:none}
.mini-star{width:18px;height:18px;background:linear-gradient(180deg,#fffaf0,#ffe7b8);display:inline-block;clip-path:polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);filter:drop-shadow(0 2px 6px rgba(0,0,0,.12))}
</style>
</head><body>
  <div class="blobs"><div class="blob b1"></div><div class="blob b2"></div><div class="blob b3"></div></div>
  <div class="letters">××‘×’×“×”×•×–×—×˜ Â· ×–×¨×™××” Â· ×œ×‘ ×¤×ª×•×— Â· ×™×—×“</div>

  <div class="wrap">
    <main class="card" role="main" aria-labelledby="title">
      <div class="topbar">
        <button class="album-btn" id="openAlbum" title="×¤×ª×—×™ ××œ×‘×•×" hidden>ğŸ“” ××œ×‘×•×</button>
        <div class="titlebox">
          <h1 id="title">××™×š ×‘× ×œ×š ×œ×”×ª×—×™×œ?</h1>
          <p class="sub" id="subtitle">×‘×—×¨/×™ ×©×œ×‘ ×¤×ª×™×—×” â€” × ×§×¤×™×¥ ×¨×¢×™×•×Ÿ ×§×˜×Ÿ ×©××¨×’×™×© × ×›×•×Ÿ ×¢×›×©×™×•.</p>
        </div>
        <div style="width:84px"></div>
      </div>

      <div class="status"><span class="chip" id="stepsChip">×¦×¢×“×™×: 0</span><span class="chip">× ×©××¨ ×‘××œ×‘×•× âœ¦</span></div>

      <section id="home">
        <div class="grid" id="grid"><div class="node a"></div><div class="node b"></div><div class="node c"></div><div class="node d"></div></div>
        <div id="hint" class="flow" style="margin-top:6px"><div class="l1"></div><div class="l2"></div><div class="l3"></div></div>
        <button class="cta" id="go" disabled>××ª×’×©×</button>
      </section>

      <section id="star" hidden></section>
      <section id="end" hidden></section>
    </main>
  </div>

  <div class="overlay" id="overlay" aria-hidden="true"><div class="modal" id="modalBox">
    <div class="big-star"></div><h2>HeartWays â€” ×‘×§×¨×•×‘ ×××•×“ âœ¨</h2>
    <p>×”××©×—×§ ×”××œ× ×‘×“×¨×š. × ×©×—×¨×¨ ×”×•×¨×“×” ×›×©× ×¤×ª×— ××ª ×”×©×¢×¨.</p>
    <a class="pill" href="#" onclick="return false"><span class="mini-star"></span>×”×•×¨×“×” ××•×§×“××ª / ×¢×“×›×•×Ÿ</a>
    <button class="cta" id="closeSoon">×¡×’×•×¨</button>
  </div></div>

<script>
const STAGES={be:{key:'be',title:'×œ×”×™×•×ª',sub:'×œ×”××˜ ×•×œ×”×¨×’×™×© ××ª ×”×’×•×£',accent:'#CCA24A',from:'#FFF1C9',to:'#FFD991',acts:["× ×©×™××ª '4â€“4' ×‘××©×š ×“×§×”","×©×—×¨×•×¨ ×›×ª×¤×™×™×/×œ×¡×ª","××™×œ×” ×˜×•×‘×” ×œ×¢×¦××™"],line:n=>`×‘×—×¨×ª ×œ×”×™×•×ª â€” ×©×§×˜ ×§×˜×Ÿ ×¢×•×©×” ×¤×œ××™×. ×¦×¢×“ ${n} × ×©××¨ ×‘××œ×‘×•×.`},
              play:{key:'play',title:'×œ×©×—×§',sub:'×§×œ×™×œ×•×ª ×•×ª× ×•×¢×”',accent:'#2FBF71',from:'#D9FFE7',to:'#A6F4C5',acts:["3 ×ª× ×•×¢×•×ª ×’×•×£ ×§×¦×¨×•×ª","×—×™×•×š ×§×˜×Ÿ ×œ×¢×¦××™","××©×—×§×•×Ÿ 60 ×©× ×™×•×ª"],line:n=>`×‘×—×¨×ª ×œ×©×—×§ â€” ×ª× ×•×¢×” ×§×˜× ×” ××–×™×–×” ×”×¨×™×. ×¦×¢×“ ${n}.`},
              create:{key:'create',title:'×œ×™×¦×•×¨',sub:'×¨×¢×™×•×Ÿ + ×¦×¢×“ ×¨××©×•×Ÿ',accent:'#8B6CF6',from:'#EBDFFF',to:'#CAB7FF',acts:["×œ×¨×©×•× ×¨×¢×™×•×Ÿ ××—×“","2 ×“×§×•×ª ×¦×¢×“ ×¨××©×•×Ÿ","×œ×©×ª×£ ×—×‘×¨/×” ×œ×¤×™×“×‘×§"],line:n=>`×‘×—×¨×ª ×œ×™×¦×•×¨ â€” ×”×ª×—×œ×” ×˜×•×‘×” ×”×™× ×—×¦×™ ×“×¨×š. ×¦×¢×“ ${n}.`},
              connect:{key:'connect',title:'×œ×”×ª×—×‘×¨',sub:'×œ×‘ ××œ ×œ×‘',accent:'#4BA3FF',from:'#E7F2FF',to:'#FFD6E6',acts:["×”×•×“×¢×ª ×œ×‘ ×§×¦×¨×”","×©×™×—×ª 5 ×“×§×•×ª","×œ×¡×’×•×¨ ×–××Ÿ ××¤×’×©"],line:n=>`×‘×—×¨×ª ×œ×”×ª×—×‘×¨ â€” ×”×•×“×¢×” ×§×˜× ×” ××©× ×” ×™×•×. ×¦×¢×“ ${n}.`}};
function vary(h,a=.04){const m=h.slice(1);let r=parseInt(m.substr(0,2),16),g=parseInt(m.substr(2,2),16),b=parseInt(m.substr(4,2),16);const d=((Date.now()%7)-3)*a;const c=x=>Math.max(0,Math.min(255,Math.round(x*(1+d))));return '#'+[c(r),c(g),c(b)].map(v=>v.toString(16).padStart(2,'0')).join('')}
const $=s=>document.querySelector(s),$$=s=>[...document.querySelectorAll(s)];
const Album={key:'hw_album',load(){try{return JSON.parse(localStorage.getItem(this.key)||'[]')}catch{return[]}},save(l){try{localStorage.setItem(this.key,JSON.stringify(l))}catch{}},push(e){const l=this.load();l.push(e);this.save(l);return l},count(){return this.load().length}};
function rgba(h,a){const m=h.slice(1),v=parseInt(m,16);return`rgba(${(v>>16)&255},${(v>>8)&255},${v&255},${a})`}
function setAccent(x){document.documentElement.style.setProperty('--accent',x)}
function updateSteps(){$('#stepsChip').textContent=`×¦×¢×“×™×: ${Album.count()}`;if(Album.count()>0)$('#openAlbum').hidden=false}
function setHeader(t,s){$('#title').textContent=t;$('#subtitle').textContent=s}

function renderHome(){const spots={a:$('.a'),b:$('.b'),c:$('.c'),d:$('.d')},order=['be','play','create','connect'];Object.entries({a:order[0],b:order[1],c:order[2],d:order[3]}).forEach(([pos,key])=>{const st=STAGES[key],from=vary(st.from),to=vary(st.to);const btn=document.createElement('button');btn.className='choice';btn.style.setProperty('--grad',`linear-gradient(180deg,${from},${to})`);btn.innerHTML=`<div class="t">${st.title}</div><div class="s">${st.sub}</div>`;btn.onclick=()=>selectStage(key,btn);spots[pos].innerHTML='';spots[pos].appendChild(btn)})}
let selected=null;
function selectStage(key,el){$$('.choice').forEach(b=>b.classList.remove('selected'));el.classList.add('selected');selected=key;const st=STAGES[key];setAccent(st.accent);$('#go').disabled=false;$('#hint').innerHTML=`<div class="l1">×‘×—×¨×ª: ${st.title}</div><div class="l2">×§×œ×£ ×§×¦×¨ ×™×™×¤×ª×— ×¢× ×¨×¢×™×•×Ÿ</div><div class="l3">×”×›×œ × ×©××¨ ×‘××œ×‘×•× âœ¦</div>`;setHeader('×”××©×š ×”××¡×¢','×”×“×¨×š ×©×œ×š × ×©××¨×ª â€” ××œ×‘×•× ×§×¡×•× ××ª×¢×“×›×Ÿ âœ¦')}

function renderStar(){if(!selected)return;const st=STAGES[selected],n=Album.count()+1;$('#home').hidden=true;const g=`linear-gradient(180deg,${rgba(st.accent,.95)},${rgba(st.accent,.55)})`;$('#star').hidden=false;$('#star').innerHTML=`<div class="parch"><div class="flow" style="margin:4px 0 8px"><div class="l1">×§×œ×£ ${st.title}</div><div class="l2">${st.line(n)}</div><div class="l3">×‘×—×¨/×™ ×¤×¢×•×œ×” ××—×ª ×•×”×ª×—×œ/×™ ×‘×§×˜×Ÿ</div></div><div class="step-illus"></div><div class="star" style="--star-grad:${g}"></div><ul class="steps">${st.acts.map(a=>`<li>â€¢ ${a}</li>`).join('')}</ul><div style="display:grid;gap:10px;grid-template-columns:1fr 1fr;margin-top:8px"><button class="cta" id="do">××ª×’×©×</button><button class="cta" id="back" style="background:linear-gradient(180deg,#f7f9ff,#edf3ff)">×‘×—×™×¨×” ××—×¨×ª</button></div></div>`;
$('#do').onclick=()=>{Album.push({t:Date.now(),key:selected,title:st.title,accent:st.accent,line:st.line(n)});updateSteps();renderEnd()};
$('#back').onclick=()=>{$('#star').hidden=true;$('#home').hidden=false;setHeader('××™×š ×‘× ×œ×š ×œ×”×ª×—×™×œ?','×‘×—×¨/×™ ×©×œ×‘ ×¤×ª×™×—×” â€” × ×§×¤×™×¥ ×¨×¢×™×•×Ÿ ×§×˜×Ÿ ×©××¨×’×™×© × ×›×•×Ÿ ×¢×›×©×™×•.')}} 

function renderEnd(){const st=STAGES[selected],g=`linear-gradient(180deg,${rgba(st.accent,.95)},${rgba(st.accent,.55)})`;$('#star').hidden=true;$('#end').hidden=false;$('#end').innerHTML=`<div class="parch" style="--star-grad:${g}"><div class="flow"><div class="l1">×™×¤×”! ×¢×•×“ ×¦×¢×“ ×‘××¡×¢ ×©×œ×š</div><div class="l2">×”×¦×¢×“ × ×©××¨ ×‘××œ×‘×•× ×”×§×¡×•× âœ¦</div><div class="l3">××¤×©×¨ ×œ×”××©×™×š ×œ×‘×—×•×¨ â€” ××• ×œ×”×¦×™×¥ ×‘××œ×‘×•×</div></div><div class="album3d"><div class="book"><div class="cover"></div><div class="pages"></div><div class="back"></div><div class="sun" style="--star-grad-center:${g}"></div></div></div><div style="display:grid;gap:10px;grid-template-columns:1fr 1fr;margin-top:6px"><button class="cta" id="again">×‘×—×™×¨×” × ×•×¡×¤×ª</button><button class="cta" id="peekAlbum" style="background:linear-gradient(180deg,#eef6ff,#e2eeff)">ğŸ“” ×¤×ª×—×™ ××œ×‘×•×</button></div><div class="flow" style="margin-top:8px"><div class="l1">HeartWays â€” ×”××©×—×§ ×”××œ× ××’×™×¢ ×‘×§×¨×•×‘ ğŸ®</div><div class="l2">×¨×•×¦×” ×œ×§×‘×œ ×’×™×©×” ××•×§×“××ª ×›×©×–×” ×§×•×¨×”?</div><div><a class="pill" href="#" onclick="openSoon();return false"><span class="mini-star"></span>×”×•×¨×“×” ××•×§×“××ª / ×¢×“×›×•×Ÿ</a></div></div></div>`;
$('#again').onclick=()=>location.reload();$('#peekAlbum').onclick=openAlbum;setAccent(st.accent);setHeader('×”××©×š ×”××¡×¢','×”×“×¨×š ×©×œ×š × ×©××¨×ª â€” ××œ×‘×•× ×§×¡×•× ××ª×¢×“×›×Ÿ âœ¦')}

function openAlbum(){const ov=$('#overlay'),box=$('#modalBox');ov.style.display='flex';ov.setAttribute('aria-hidden','false');const list=Album.load();box.innerHTML=`<div class="big-star"></div><h2>×”××œ×‘×•× ×”×§×¡×•× ×©×œ×š âœ¦</h2><p>×”×“×¨×š ×©× ×©××¨×” ××ª×•×š ×”×‘×—×™×¨×•×ª ×©×œ×š.</p><div id="cards" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;margin-top:8px"></div><button class="cta" id="close">×¡×’×•×¨</button>`;const cards=$('#cards');if(!list.length){cards.innerHTML=`<div class="parch"><div class="flow"><div class="l2">×¢×“×™×™×Ÿ ×¨×™×§</div><div class="l3">×›×œ ×‘×—×™×¨×” × ×©××¨×ª ×›××Ÿ</div></div></div>`}else{list.forEach((e,i)=>{const grad=`linear-gradient(180deg,${rgba(e.accent,.95)},${rgba(e.accent,.55)})`;const d=new Date(e.t).toLocaleDateString('he-IL',{day:'2-digit',month:'2-digit'});const c=document.createElement('div');c.className='parch';c.innerHTML=`<div style="position:absolute;inset-inline-end:10px;top:10px;width:26px;height:26px;background:${grad};clip-path:polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%)"></div><div class="flow"><div class="l1">${e.title} Â· ×¦×¢×“ ${i+1} Â· ${d}</div><div class="l2">${e.line}</div></div>`;cards.appendChild(c)})}$('#close').onclick=closeOverlay;ov.addEventListener('click',ev=>{if(ev.target===ov)closeOverlay()},{once:true});document.addEventListener('keydown',function esc(ev){if(ev.key==='Escape'){closeOverlay();document.removeEventListener('keydown',esc)}},{once:true})}
function openSoon(){const ov=$('#overlay'),box=$('#modalBox');ov.style.display='flex';ov.setAttribute('aria-hidden','false');box.innerHTML=`<div class="big-star"></div><h2>HeartWays â€” ×‘×§×¨×•×‘ ×××•×“ âœ¨</h2><p>×”××©×—×§ ×”××œ× ×‘×“×¨×š. × ×©×—×¨×¨ ×”×•×¨×“×” ×›×©× ×¤×ª×— ××ª ×”×©×¢×¨.</p><a class="pill" href="#" onclick="return false"><span class="mini-star"></span>×”×•×¨×“×” ××•×§×“××ª / ×¢×“×›×•×Ÿ</a><button class="cta" id="close">×¡×’×•×¨</button>`;$('#close').onclick=closeOverlay}
function closeOverlay(){const ov=$('#overlay');ov.style.display='none';ov.setAttribute('aria-hidden','true')}

document.addEventListener('DOMContentLoaded',()=>{renderHome();updateSteps();$('#go').onclick=renderStar;$('#openAlbum').onclick=openAlbum;$('#closeSoon').onclick=closeOverlay});
</script>
</body></html>@keyframes drift{0%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)}}

/* ×§×œ×£ ××¨×›×–×™ */
.wrap{ position:relative; z-index:1; width:min(94vw,920px) }
.card{
  background:var(--glass); -webkit-backdrop-filter: blur(14px) saturate(140%); backdrop-filter: blur(14px) saturate(140%);
  border-radius:22px; padding:18px; box-shadow:var(--shadow); overflow:hidden;
}
.card::after{
  content:""; position:absolute; inset:-40% -60%; border-radius:40%;
  background: conic-gradient(from 0deg, transparent 0 70%, rgba(255,255,255,.18) 80%, transparent 88%);
  animation: sheen 14s linear infinite; mix-blend-mode: soft-light; pointer-events:none;
}
@keyframes sheen{ to{ transform: rotate(360deg) } }

/* ×˜×•×¤×‘×¨+×¡×˜×˜×•×¡ */
.topbar{ display:flex; align-items:center; justify-content:space-between; gap:8px; }
.titlebox{ text-align:center; flex:1 }
h1{margin:0;color:var(--text); font-size:1.55rem}
.sub{margin:0;color:var(--text-soft); font-weight:700}
.status{ display:flex; align-items:center; gap:.45rem; justify-content:center; color:#1c3f74; font-weight:800; margin:8px 0 2px }
.chip{ display:inline-flex; align-items:center; gap:.35rem; padding:.35rem .65rem; border-radius:999px;
  background:linear-gradient(180deg,#eef4ff,#e3ecff); box-shadow:0 6px 16px rgba(0,0,0,.08) }
.album-btn{ display:inline-flex; align-items:center; gap:.4rem; padding:.4rem .8rem; border:none; border-radius:999px;
  background:linear-gradient(180deg,#f1f6ff,#e5eeff); color:#173c70; font-weight:900; cursor:pointer; box-shadow:0 8px 20px rgba(0,0,0,.1) }

/* ×™×”×œ×•× 1â€“2â€“1 */
.grid{
  --size: clamp(112px, 21vw, 170px);
  display:grid; gap:16px; margin:10px auto 8px; width:fit-content;
  grid-template-columns: repeat(3, var(--size));
  grid-template-rows: repeat(3, var(--size));
  grid-template-areas: ". a ." "b . c" ". d .";
}
.node{ width:var(--size); height:var(--size) }
.node.a{grid-area:a} .node.b{grid-area:b} .node.c{grid-area:c} .node.d{grid-area:d}
@media (max-width:560px){ .grid{ --size: clamp(108px, 34vw, 150px); gap:12px } }

/* ×¢×™×’×•×œ ×–×›×•×›×™×ª */
.choice{
  position:relative; display:flex; flex-direction:column; align-items:center; justify-content:center;
  width:100%; height:100%; border:none; border-radius:999px; cursor:pointer; text-align:center; padding:12px;
  background: radial-gradient(circle at 35% 30%, rgba(255,255,255,.78), rgba(255,255,255,.52) 70%), var(--grad, rgba(46,107,255,.06));
  -webkit-backdrop-filter: blur(12px) saturate(140%); backdrop-filter: blur(12px) saturate(140%);
  box-shadow: 0 8px 22px rgba(0,0,0,.10); transition: transform .12s ease, box-shadow .2s ease, filter .2s ease;
}
.choice:hover{ filter:saturate(1.12) } .choice:active{ transform:scale(.98) }
.choice .t{ font-weight:900; font-size:1.02rem; color:#173c70 }
.choice .s{ font-size:.88rem; color:#3b5f9a; margin-top:6px }
.choice.selected{ transform:scale(1.04); box-shadow:0 14px 32px rgba(0,0,0,.16), 0 0 0 6px rgba(207,230,255,.55) }
.choice.selected::after{
  content:""; position:absolute; top:6px; inset-inline-end:8px; width:18px; height:18px;
  background: radial-gradient(circle,#fff 0 50%,transparent 60%), linear-gradient(180deg,#fff7de,#ffe2a4);
  clip-path: polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);
  filter: drop-shadow(0 2px 4px rgba(0,0,0,.18)); transform:scale(.7); opacity:0; animation:pop .25s ease forwards;
}
@keyframes pop{ to{transform:scale(1);opacity:1} }

/* ×˜×™×¤×•×’×¨×¤×™×” ×–×•×¨××ª */
.flow{ text-align:center; display:grid; gap:2px }
.flow .l1{ font-weight:900; letter-spacing:.02em; font-size:1.18rem; color:#163a6b }
.flow .l2{ font-weight:800; letter-spacing:.015em; color:#204b82 }
.flow .l3{ font-weight:700; letter-spacing:.01em; color:#2b5c96 }

/* ×§×œ×£ (×‘×—×™×¨×”+×ª×•×›×Ÿ) */
.parch{
  position:relative; margin:0 auto; width:min(92%,680px);
  background:linear-gradient(180deg,rgba(255,255,255,.85),rgba(255,255,255,.7));
  border-radius:18px; padding:14px; box-shadow:0 12px 28px rgba(0,0,0,.12);
  -webkit-backdrop-filter: blur(10px) saturate(140%); backdrop-filter: blur(10px) saturate(140%);
}

/* ×˜×‘×™×¢×ª ×¦×¢×“ */
.step-illus{
  width:70px; height:70px; margin:2px auto 8px; opacity:.85;
  background:
     radial-gradient(ellipse at 60% 40%, rgba(0,0,0,.12), transparent 60%),
     radial-gradient(ellipse at 45% 70%, rgba(0,0,0,.12), transparent 60%);
  border-radius:30% 50% 40% 50% / 50% 40% 60% 50%;
  transform: rotate(-18deg);
  filter: blur(.2px);
}

/* ×›×•×›×‘/×©××© ×¤×¢×•×œ×” (8 ×§×¨× ×™×™×) */
.star{
  width:200px; height:200px; margin:8px auto;
  background: var(--star-grad, linear-gradient(180deg,#fffaf0,#ffe7b8));
  clip-path: polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);
  box-shadow:0 14px 30px rgba(0,0,0,.16);
  animation:starIn .45s ease both, floaty 6s ease-in-out infinite;
}
@keyframes starIn{ from{transform:translateY(10px) scale(.94); opacity:0} to{transform:translateY(0) scale(1); opacity:1} }

/* ×¦×¢×“×™× */
.steps{ list-style:none; padding:0; margin:4px 0 0; text-align:center; line-height:1.7; color:#234c86; font-size:1.02rem; font-weight:700 }

/* CTA */
.cta{ display:block;width:100%;padding:12px 16px;margin-top:10px; background:linear-gradient(180deg,#e6f0ff,#d6e8ff);
  border:none;border-radius:999px;font-size:1rem;font-weight:900;color:var(--text);cursor:pointer;box-shadow:var(--shadow) }

/* ××œ×‘×•× 3D */
.album3d{ margin:8px auto; width:min(95%,760px); perspective:1000px; }
.book{ position:relative; margin:0 auto; width:640px; max-width:90vw; height:260px; transform-style:preserve-3d; transform: rotateX(6deg) rotateY(-8deg); }
.cover,.pages,.back{ position:absolute; inset:0; border-radius:14px; }
.cover{ background:linear-gradient(135deg, rgba(255,255,255,.95), rgba(245,248,255,.85)); box-shadow:0 30px 60px rgba(0,0,0,.18); transform: translateZ(24px); }
.pages{ background:repeating-linear-gradient(90deg, #fff 0 4px, #f2f4ff 4px 8px); transform: translateZ(12px); border-radius:12px; }
.back{ background:linear-gradient(135deg, rgba(230,238,255,.9), rgba(255,255,255,.9)); transform: translateZ(0); }
/* ×©××©/×›×•×›×‘ ×–×•×”×¨ ×‘××¨×›×– ×”××œ×‘×•× */
.sun{
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  width:120px; height:120px;
  background:radial-gradient(circle at 50% 50%, #fff7d6 0 40%, #ffd87a 60%, transparent 62%), var(--star-grad-center, linear-gradient(180deg,#fff2bf,#ffd97a));
  clip-path: polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);
  filter: drop-shadow(0 18px 28px rgba(0,0,0,.18)); animation: pulse 3.2s ease-in-out infinite;
}
@keyframes pulse{0%,100%{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.06)}}

/* ××•×“××œ ×›×œ×œ×™ (×‘×§×¨×•×‘/××œ×‘×•×) */
.overlay{ position:fixed; inset:0; background:rgba(15,34,51,.28); display:none; align-items:center; justify-content:center; z-index:9999 }
.modal{
  position:relative; padding:22px; border-radius:22px; background:rgba(255,255,255,.92);
  -webkit-backdrop-filter: blur(12px) saturate(140%); backdrop-filter: blur(12px) saturate(140%);
  box-shadow:var(--shadow); width:min(92vw,720px); text-align:center; color:#163a6b;
}
.big-star{ width:120px; height:120px; margin:0 auto 10px; background:linear-gradient(180deg,#fffaf0,#ffe7b8);
  clip-path: polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);
  animation: floaty 6s ease-in-out infinite; filter: drop-shadow(0 8px 22px rgba(0,0,0,.16)) }
.pill{ display:inline-flex; align-items:center; gap:.5rem; padding:.65rem 1.1rem; border-radius:999px;
  background:linear-gradient(180deg,#eef4ff,#dfeaff); color:#163a6b; font-weight:900; box-shadow:var(--shadow); text-decoration:none }
.mini-star{ width:18px;height:18px; background:linear-gradient(180deg,#fffaf0,#ffe7b8); display:inline-block;
  clip-path: polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.12)) }
</style>
</head>
<body>
  <!-- ×¨×§×¢ -->
  <div class="blobs" aria-hidden="true">
    <div class="blob b1"></div><div class="blob b2"></div><div class="blob b3"></div>
  </div>
  <div class="letters" aria-hidden="true">××‘×’×“×”×•×–×—×˜ Â· ×–×¨×™××” Â· ×œ×‘ ×¤×ª×•×— Â· ×™×—×“</div>

  <div class="wrap">
    <main class="card" role="main" aria-labelledby="title">
      <div class="topbar">
        <button class="album-btn" id="openAlbum" title="×¤×ª×—×™ ××œ×‘×•×" hidden>ğŸ“” ××œ×‘×•×</button>
        <div class="titlebox">
          <h1 id="title">××™×š ×‘× ×œ×š ×œ×”×ª×—×™×œ?</h1>
          <p class="sub" id="subtitle">×‘×—×¨/×™ ×©×œ×‘ ×¤×ª×™×—×” â€” × ×§×¤×™×¥ ×¨×¢×™×•×Ÿ ×§×˜×Ÿ ×©××¨×’×™×© × ×›×•×Ÿ ×¢×›×©×™×•.</p>
        </div>
        <div style="width:84px"></div>
      </div>

      <div class="status" id="status">
        <span class="chip" id="stepsChip">×¦×¢×“×™×: 0</span>
        <span class="chip" id="albumHint">× ×©××¨ ×‘××œ×‘×•× âœ¦</span>
      </div>

      <!-- ××¡×š ×¤×ª×™×—×” -->
      <section id="screen-home">
        <div class="grid" id="grid">
          <div class="node a"></div>
          <div class="node b"></div>
          <div class="node c"></div>
          <div class="node d"></div>
        </div>
        <div id="hint" class="flow" style="margin-top:6px">
          <div class="l1"></div><div class="l2"></div><div class="l3"></div>
        </div>
        <button class="cta" id="go" disabled>××ª×’×©×</button>
      </section>

      <!-- ××¡×š ×”×©×¨××” -->
      <section id="screen-star" hidden></section>

      <!-- ××¡×š ×¡×™×•× + ××œ×‘×•× -->
      <section id="screen-end" hidden></section>
    </main>
  </div>

  <!-- ××•×“××œ ×›×œ×œ×™ (×‘×§×¨×•×‘/××œ×‘×•×) -->
  <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" id="modalBox">
      <div class="big-star" aria-hidden="true"></div>
      <h2 class="title">HeartWays â€” ×‘×§×¨×•×‘ ×××•×“ âœ¨</h2>
      <p class="text">×”××©×—×§ ×”××œ× ×‘×“×¨×š. × ×©×—×¨×¨ ×”×•×¨×“×” ×›×©× ×¤×ª×— ××ª ×”×©×¢×¨.</p>
      <a class="pill" id="downloadLink" href="#" data-temp="true"><span class="mini-star"></span>×”×•×¨×“×” ××•×§×“××ª / ×¢×“×›×•×Ÿ</a>
    </div>
  </div>

<script>
/* ×©×œ×‘×™× + ×¦×‘×¢×™× */
const STAGES = {
  be:      { key:'be', title:'×œ×”×™×•×ª',   sub:'×œ×”××˜ ×•×œ×”×¨×’×™×© ××ª ×”×’×•×£',  accent:'#CCA24A', from:'#FFF1C9', to:'#FFD991',
             acts:["× ×©×™××ª '4â€“4' ×‘××©×š ×“×§×”","×©×—×¨×•×¨ ×›×ª×¤×™×™×/×œ×¡×ª","××™×œ×” ×˜×•×‘×” ×œ×¢×¦××™"],
             line:n=>`×‘×—×¨×ª ×œ×”×™×•×ª â€” ×©×§×˜ ×§×˜×Ÿ ×¢×•×©×” ×¤×œ××™×. ×¦×¢×“ ${n} × ×©××¨ ×‘××œ×‘×•×.` },
  play:    { key:'play', title:'×œ×©×—×§',  sub:'×§×œ×™×œ×•×ª ×•×ª× ×•×¢×”',       accent:'#2FBF71', from:'#D9FFE7', to:'#A6F4C5',
             acts:["3 ×ª× ×•×¢×•×ª ×’×•×£ ×§×¦×¨×•×ª","×—×™×•×š ×§×˜×Ÿ ×œ×¢×¦××™","××©×—×§×•×Ÿ 60 ×©× ×™×•×ª"],
             line:n=>`×‘×—×¨×ª ×œ×©×—×§ â€” ×ª× ×•×¢×” ×§×˜× ×” ××–×™×–×” ×”×¨×™×. ×¦×¢×“ ${n}.` },
  create:  { key:'create', title:'×œ×™×¦×•×¨', sub:'×¨×¢×™×•×Ÿ + ×¦×¢×“ ×¨××©×•×Ÿ', accent:'#8B6CF6', from:'#EBDFFF', to:'#CAB7FF',
             acts:["×œ×¨×©×•× ×¨×¢×™×•×Ÿ ××—×“","2 ×“×§×•×ª ×¦×¢×“ ×¨××©×•×Ÿ","×œ×©×ª×£ ×—×‘×¨/×” ×œ×¤×™×“×‘×§"],
             line:n=>`×‘×—×¨×ª ×œ×™×¦×•×¨ â€” ×”×ª×—×œ×” ×˜×•×‘×” ×”×™× ×—×¦×™ ×“×¨×š. ×¦×¢×“ ${n}.` },
  connect: { key:'connect', title:'×œ×”×ª×—×‘×¨', sub:'×œ×‘ ××œ ×œ×‘',         accent:'#4BA3FF', from:'#E7F2FF', to:'#FFD6E6',
             acts:["×”×•×“×¢×ª ×œ×‘ ×§×¦×¨×”","×©×™×—×ª 5 ×“×§×•×ª","×œ×¡×’×•×¨ ×–××Ÿ ××¤×’×©"],
             line:n=>`×‘×—×¨×ª ×œ×”×ª×—×‘×¨ â€” ×”×•×“×¢×” ×§×˜× ×” ××©× ×” ×™×•×. ×¦×¢×“ ${n}.` }
};

/* ×›×œ×™× */
function vary(hex,amt=.04){ const m=hex.replace('#',''); let r=parseInt(m.substr(0,2),16),g=parseInt(m.substr(2,2),16),b=parseInt(m.substr(4,2),16);
  const delta=((Date.now()%7)-3)*amt; r=Math.max(0,Math.min(255,Math.round(r*(1+delta)))); g=Math.max(0,Math.min(255,Math.round(g*(1+delta)))); b=Math.max(0,Math.min(255,Math.round(b*(1+delta))));
  return '#'+[r,g,b].map(v=>v.toString(16).padStart(2,'0')).join('');
}
function rgba(hex,a){ const m=hex.replace('#',''); const v=parseInt(m,16); return `rgba(${(v>>16)&255},${(v>>8)&255},${v&255},${a})`; }
function setAccent(hex){ document.documentElement.style.setProperty('--accent',hex); }
const $=s=>document.querySelector(s); const $$=s=>Array.from(document.querySelectorAll(s));

/* ××œ×‘×•× */
const Album={key:'hw_album', load(){try{return JSON.parse(localStorage.getItem(this.key)||'[]')}catch{return[]}}, save(l){try{localStorage.setItem(this.key,JSON.stringify(l))}catch{}}, push(e){const l=this.load(); l.push(e); this.save(l); return l}, count(){return this.load().length}};
function updateStatus(){ $('#stepsChip').textContent = `×¦×¢×“×™×: ${Album.count()}`; if(Album.count()>0) $('#openAlbum').hidden=false; }
function setHeader(title,sub){ $('#title').textContent=title; $('#subtitle').textContent=sub; }

/* ××¡×š ×¤×ª×™×—×” */
function renderHome(){
  const spots={a:$('.node.a'),b:$('.node.b'),c:$('.node.c'),d:$('.node.d')};
  const order=['be','play','create','connect'];
  Object.entries({a:order[0],b:order[1],c:order[2],d:order[3]}).forEach(([pos,key])=>{
    const st=STAGES[key], from=vary(st.from), to=vary(st.to);
    const btn=document.createElement('button'); btn.className='choice'; btn.style.setProperty('--grad',`linear-gradient(180deg,${from},${to})`);
    btn.innerHTML=`<div class="t">${st.title}</div><div class="s">${st.sub}</div>`;
    btn.onclick=()=>selectStage(key,btn);
    spots[pos].innerHTML=''; spots[pos].appendChild(btn);
  });
}
let state={selected:null};
function selectStage(key,el){
  $$('.choice').forEach(b=>b.classList.remove('selected'));
  el.classList.add('selected'); state.selected=key; const st=STAGES[key]; setAccent(st.accent);
  $('#go').disabled=false;
  $('#hint').innerHTML = `<div class="l1">×‘×—×¨×ª: ${st.title}</div><div class="l2">×§×œ×£ ×§×¦×¨ ×™×™×¤×ª×— ×¢× ×¨×¢×™×•×Ÿ</div><div class="l3">×”×›×œ × ×©××¨ ×‘××œ×‘×•× âœ¦</div>`;
  setHeader('×”××©×š ×”××¡×¢','×”×“×¨×š ×©×œ×š × ×©××¨×ª â€” ××œ×‘×•× ×§×¡×•× ××ª×¢×“×›×Ÿ âœ¦');
}

/* ××¡×š ×”×©×¨××”: ×§×œ×£ + ×¦×¢×“ (Footprint) + ×›×•×›×‘/×©××© ×¤×¢×•×œ×” */
function renderStar(){
  const k=state.selected; if(!k) return; const st=STAGES[k]; const n=Album.count()+1;
  const star=$('#screen-star'); $('#screen-home').hidden=true; star.hidden=false;

  const starGrad=`linear-gradient(180deg, ${rgba(st.accent,.95)}, ${rgba(st.accent,.55)})`;
  star.innerHTML=`
    <div class="parch">
      <div class="flow" style="margin:4px 0 8px">
        <div class="l1">×§×œ×£ ${st.title}</div>
        <div class="l2">${st.line(n)}</div>
        <div class="l3">×‘×—×¨/×™ ×¤×¢×•×œ×” ××—×ª ×•×”×ª×—×œ/×™ ×‘×§×˜×Ÿ</div>
      </div>

      <div class="step-illus" aria-hidden="true"></div>
      <div class="star" style="--star-grad:${starGrad}" aria-hidden="true"></div>

      <ul class="steps">${st.acts.map(a=>`<li>â€¢ ${a}</li>`).join('')}</ul>

      <div style="display:grid; gap:10px; grid-template-columns:1fr 1fr; margin-top:8px">
        <button class="cta" id="do">××ª×’×©×</button>
        <button class="cta" id="back" style="background:linear-gradient(180deg,#f7f9ff,#edf3ff)">×‘×—×™×¨×” ××—×¨×ª</button>
      </div>
    </div>
  `;

  $('#do').onclick=()=>{
    const entry={ t:Date.now(), key:k, title:st.title, accent:st.accent, line:st.line(n) };
    const list=Album.push(entry); updateStatus(); renderEnd();
  };
  $('#back').onclick=()=>{ star.hidden=true; $('#screen-home').hidden=false; setHeader('××™×š ×‘× ×œ×š ×œ×”×ª×—×™×œ?','×‘×—×¨/×™ ×©×œ×‘ ×¤×ª×™×—×” â€” × ×§×¤×™×¥ ×¨×¢×™×•×Ÿ ×§×˜×Ÿ ×©××¨×’×™×© × ×›×•×Ÿ ×¢×›×©×™×•.'); };
}

/* ××¡×š ×¡×™×•× + ××œ×‘×•× 3D */
function renderEnd(){
  const k=state.selected, st=STAGES[k]; const end=$('#screen-end'); $('#screen-star').hidden=true; end.hidden=false;
  const sunGrad=`linear-gradient(180deg, ${rgba(st.accent,.95)}, ${rgba(st.accent,.55)})`;
  end.innerHTML=`
    <div class="parch" style="--star-grad:${sunGrad}">
      <div class="flow">
        <div class="l1">×™×¤×”! ×¢×•×“ ×¦×¢×“ ×‘××¡×¢ ×©×œ×š</div>
        <div class="l2">×”×¦×¢×“ × ×©××¨ ×‘××œ×‘×•× ×”×§×¡×•× âœ¦</div>
        <div class="l3">××¤×©×¨ ×œ×”××©×™×š ×œ×‘×—×•×¨ â€” ××• ×œ×”×¦×™×¥ ×‘××œ×‘×•×</div>
      </div>

      <div class="album3d" aria-label="××œ×‘×•× ×§×¡×•×">
        <div class="book">
          <div class="cover"></div>
          <div class="pages"></div>
          <div class="back"></div>
          <div class="sun" style="--star-grad-center:${sunGrad}" aria-hidden="true"></div>
        </div>
      </div>

      <div style="display:grid; gap:10px; grid-template-columns:1fr 1fr; margin-top:6px">
        <button class="cta" id="again">×‘×—×™×¨×” × ×•×¡×¤×ª</button>
        <button class="cta" id="peekAlbum" style="background:linear-gradient(180deg,#eef6ff,#e2eeff)">ğŸ“” ×¤×ª×—×™ ××œ×‘×•×</button>
      </div>

      <div class="flow" style="margin-top:8px">
        <div class="l1">HeartWays â€” ×”××©×—×§ ×”××œ× ××’×™×¢ ×‘×§×¨×•×‘ ğŸ®</div>
        <div class="l2">×¨×•×¦×” ×œ×§×‘×œ ×’×™×©×” ××•×§×“××ª ×›×©×–×” ×§×•×¨×”?</div>
        <div><a class="pill" id="downloadLink" href="#" data-temp="true"><span class="mini-star"></span>×”×•×¨×“×” ××•×§×“××ª / ×¢×“×›×•×Ÿ</a></div>
      </div>
    </div>
  `;
  setAccent(st.accent);
  $('#again').onclick=()=>location.reload();
  $('#peekAlbum').onclick=()=>openAlbum();
  const dl=$('#downloadLink'); dl.addEventListener('click',e=>{ if(dl.dataset.temp==="true"){ e.preventDefault(); openSoon(); }});
  setHeader('×”××©×š ×”××¡×¢','×”×“×¨×š ×©×œ×š × ×©××¨×ª â€” ××œ×‘×•× ×§×¡×•× ××ª×¢×“×›×Ÿ âœ¦');
}

/* ××œ×‘×•× (×‘××•×“××œ) */
function openAlbum(){
  const ov=$('#overlay'), box=$('#modalBox'); ov.style.display='flex'; ov.setAttribute('aria-hidden','false');
  const list=Album.load();
  box.innerHTML=`
    <div class="big-star" aria-hidden="true"></div>
    <h2 class="title">×”××œ×‘×•× ×”×§×¡×•× ×©×œ×š âœ¦</h2>
    <p class="text">×”×“×¨×š ×©× ×©××¨×” ××ª×•×š ×”×‘×—×™×¨×•×ª ×©×œ×š.</p>
    <div id="cards" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;margin-top:8px"></div>
    <button class="cta" id="close">×¡×’×•×¨</button>
  `;
  const cards=$('#cards');
  if(!list.length){
    cards.innerHTML=`<div class="parch"><div class="flow"><div class="l2">×¢×“×™×™×Ÿ ×¨×™×§</div><div class="l3">×›×œ ×‘×—×™×¨×” × ×©××¨×ª ×›××Ÿ</div></div></div>`;
  }else{
    list.forEach((e,i)=>{
      const grad=`linear-gradient(180deg, ${rgba(e.accent,.95)}, ${rgba(e.accent,.55)})`;
      const d=new Date(e.t).toLocaleDateString('he-IL',{day:'2-digit',month:'2-digit'});
      const card=document.createElement('div');
      card.className='parch';
      card.innerHTML=`
        <div style="position:absolute;inset-inline-end:10px;top:10px;width:26px;height:26px;background:${grad};
          clip-path:polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);
          filter:drop-shadow(0 4px 10px rgba(0,0,0,.18))" aria-hidden="true"></div>
        <div class="flow">
          <div class="l1">${e.title} Â· ×¦×¢×“ ${i+1} Â· ${d}</div>
          <div class="l2">${e.line}</div>
        </div>
      `;
      cards.appendChild(card);
    });
  }
  $('#close').onclick=closeOverlay;
  ov.addEventListener('click',ev=>{ if(ev.target===ov) closeOverlay(); },{once:true});
  document.addEventListener('keydown',function escOnce(ev){ if(ev.key==='Escape'){closeOverlay();document.removeEventListener('keydown',escOnce)}},{once:true});
}

/* ××•×“××œ "×‘×§×¨×•×‘" */
function openSoon(){
  const ov=$('#overlay'), box=$('#modalBox'); ov.style.display='flex'; ov.setAttribute('aria-hidden','false');
  box.innerHTML=`
    <div class="big-star" aria-hidden="true"></div>
    <h2 class="title">HeartWays â€” ×‘×§×¨×•×‘ ×××•×“ âœ¨</h2>
    <p class="text">×”××©×—×§ ×”××œ× ×‘×“×¨×š. × ×©×—×¨×¨ ×”×•×¨×“×” ×›×©× ×¤×ª×— ××ª ×”×©×¢×¨.</p>
    <a class="pill" href="#" onclick="return false"><span class="mini-star"></span>×”×•×¨×“×” ××•×§×“××ª / ×¢×“×›×•×Ÿ</a>
    <button class="cta" id="close">×¡×’×•×¨</button>
  `;
  $('#close').onclick=closeOverlay;
}
function closeOverlay(){ const ov=$('#overlay'); ov.style.display='none'; ov.setAttribute('aria-hidden','true'); }

/* Init */
document.addEventListener('DOMContentLoaded', ()=>{
  renderHome(); updateStatus();
  $('#go').onclick=()=>renderStar();
  $('#openAlbum').onclick=()=>openAlbum();
});
</script>
</body>
</html>
