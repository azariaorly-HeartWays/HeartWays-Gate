<!DOCTYPE html><html lang="he" dir="rtl"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="theme-color" content="#eaf2ff"><title>HeartWays — דמו</title>
<style>
:root{--bg1:#eaf2ff;--bg2:#f9fbff;--t1:#173b6f;--t2:#2b5a92;--glass:rgba(255,255,255,.72);--sh:0 10px 30px rgba(46,107,255,.18)}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:var(--t1);display:flex;align-items:center;justify-content:center;padding:18px;overflow-x:hidden}

/* רקע נוזלי + אותיות */
.blobs{position:fixed;inset:-20vmax -10vmax auto auto;width:120vmax;height:120vmax;z-index:0;pointer-events:none;filter:blur(40px)}
.blob{position:absolute;border-radius:40%;opacity:.35;mix-blend-mode:multiply;animation:float 18s ease-in-out infinite}
.blob.b1{left:10%;top:0;width:36vmax;height:36vmax;background:#7cc8ff}
.blob.b2{right:10%;top:20%;width:28vmax;height:28vmax;background:#ffd4e3;animation-duration:20s}
.blob.b3{left:35%;top:35%;width:32vmax;height:32vmax;background:#d7c6ff;animation-duration:22s}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}
.letters{position:fixed;inset:0;z-index:0;pointer-events:none;display:grid;place-items:center;font-size:18vmin;font-weight:900;letter-spacing:.7vmin;opacity:.06;color:#0f2233;line-height:1.1;animation:drift 28s linear infinite}
@keyframes drift{0%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)}}

/* קלף מרכזי */
.wrap{position:relative;z-index:1;width:min(94vw,920px)}
.card{background:var(--glass);backdrop-filter:blur(14px) saturate(140%);border-radius:22px;padding:18px;box-shadow:var(--sh)}
.top{display:flex;align-items:center;justify-content:space-between;gap:8px}
.title{flex:1;text-align:center}
h1{margin:0;font-size:1.55rem}.sub{margin:0;color:var(--t2);font-weight:700}
.status{display:flex;gap:.45rem;justify-content:center;color:#1c3f74;font-weight:800;margin:8px 0 4px}
.chip{display:inline-flex;gap:.35rem;padding:.35rem .65rem;border-radius:999px;background:linear-gradient(180deg,#eef4ff,#e3ecff);box-shadow:0 6px 16px rgba(0,0,0,.08)}
.btn{border:0;border-radius:999px;padding:12px 16px;background:linear-gradient(180deg,#e6f0ff,#d6e8ff);font-weight:900;color:var(--t1);box-shadow:var(--sh);cursor:pointer}

/* יהלום 1–2–1 */
.grid{--size:clamp(112px,21vw,170px);display:grid;gap:16px;margin:10px auto 8px;width:fit-content;grid-template-columns:repeat(3,var(--size));grid-template-rows:repeat(3,var(--size));grid-template-areas:". a ." "b . c" ". d ."}
.node{width:var(--size);height:var(--size)}.a{grid-area:a}.b{grid-area:b}.c{grid-area:c}.d{grid-area:d}
@media(max-width:560px){.grid{--size:clamp(108px,34vw,150px);gap:12px}}

/* כפתורי בחירה — עיגול זכוכית */
.choice{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;border:none;border-radius:999px;cursor:pointer;text-align:center;padding:12px;background:radial-gradient(circle at 35% 30%,rgba(255,255,255,.82),rgba(255,255,255,.56) 70%),var(--grad,rgba(46,107,255,.06));backdrop-filter:blur(12px) saturate(140%);box-shadow:0 8px 22px rgba(0,0,0,.1);transition:transform .12s,box-shadow .2s,filter .2s}
.choice:hover{filter:saturate(1.12)}.choice:active{transform:scale(.98)}
.choice .t{font-weight:900;font-size:1.02rem}.choice .s{font-size:.88rem;color:#3b5f9a;margin-top:6px}
.choice.selected{transform:scale(1.04);box-shadow:0 14px 32px rgba(0,0,0,.16),0 0 0 6px rgba(207,230,255,.55)}
.choice.selected::after{content:"";position:absolute;top:6px;inset-inline-end:8px;width:18px;height:18px;background:radial-gradient(circle,#fff 0 50%,transparent 60%),linear-gradient(180deg,#fff7de,#ffe2a4);clip-path:polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);filter:drop-shadow(0 2px 4px rgba(0,0,0,.18));opacity:0;animation:pop .25s forwards}
@keyframes pop{to{opacity:1}}

/* קלף השראה + כוכב פעולה */
.flow{text-align:center;display:grid;gap:2px}.l1{font-weight:900;font-size:1.18rem}.l2{font-weight:800;color:#204b82}.l3{font-weight:700;color:#2b5c96}
.parch{margin:0 auto;width:min(92%,680px);background:linear-gradient(180deg,rgba(255,255,255,.86),rgba(255,255,255,.72));border-radius:18px;padding:14px;box-shadow:0 12px 28px rgba(0,0,0,.12);backdrop-filter:blur(10px) saturate(140%)}
.step{width:70px;height:70px;margin:2px auto 8px;opacity:.85;background:radial-gradient(ellipse at 60% 40%,rgba(0,0,0,.12),transparent 60%),radial-gradient(ellipse at 45% 70%,rgba(0,0,0,.12),transparent 60%);border-radius:30% 50% 40% 50% / 50% 40% 60% 50%;transform:rotate(-18deg)}
.star{width:200px;height:200px;margin:8px auto;background:var(--star,linear-gradient(180deg,#fffaf0,#ffe7b8));clip-path:polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);box-shadow:0 14px 30px rgba(0,0,0,.16);animation:starIn .45s both, float 6s ease-in-out infinite}
@keyframes starIn{from{transform:translateY(10px) scale(.94);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}
.steps{list-style:none;padding:0;margin:4px 0 0;text-align:center;line-height:1.7;color:#234c86;font-size:1.02rem;font-weight:700}

/* אלבום */
.album{margin:8px auto;width:min(95%,760px);perspective:1000px}
.book{position:relative;margin:0 auto;width:640px;max-width:90vw;height:260px;transform-style:preserve-3d;transform:rotateX(6deg) rotateY(-8deg)}
.cover,.pages,.back{position:absolute;inset:0;border-radius:14px}
.cover{background:linear-gradient(135deg,rgba(255,255,255,.95),rgba(245,248,255,.86));box-shadow:0 30px 60px rgba(0,0,0,.18);transform:translateZ(24px)}
.pages{background:repeating-linear-gradient(90deg,#fff 0 4px,#f2f4ff 4px 8px);transform:translateZ(12px)}
.back{background:linear-gradient(135deg,rgba(230,238,255,.9),rgba(255,255,255,.9))}
.sun{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:120px;height:120px;background:radial-gradient(circle,#fff7d6 0 40%,#ffd87a 60%,transparent 62%);clip-path:polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);animation:pulse 3.2s ease-in-out infinite}
@keyframes pulse{0%,100%{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.06)}}

/* מודאל */
.ov{position:fixed;inset:0;background:rgba(15,34,51,.28);display:none;align-items:center;justify-content:center;z-index:9999}
.modal{padding:22px;border-radius:22px;background:rgba(255,255,255,.92);backdrop-filter:blur(12px) saturate(140%);box-shadow:var(--sh);width:min(92vw,720px);text-align:center;color:#163a6b}
.big{width:120px;height:120px;margin:0 auto 10px;background:linear-gradient(180deg,#fffaf0,#ffe7b8);clip-path:polygon(50% 0%,65% 20%,80% 20%,65% 35%,100% 50%,65% 65%,80% 80%,65% 80%,50% 100%,35% 80%,20% 80%,35% 65%,0% 50%,35% 35%,20% 20%,35% 20%);animation:float 6s ease-in-out infinite}
</style>
</head><body>
<!-- רקע -->
<div class="blobs"><div class="blob b1"></div><div class="blob b2"></div><div class="blob b3"></div></div>
<div class="letters" aria-hidden="true">אבגדהוזחט · זרימה · לב פתוח · יחד</div>

<div class="wrap">
  <main class="card" role="main">
    <div class="top">
      <button class="btn" id="openAlbum" hidden>📔 אלבום</button>
      <div class="title"><h1 id="title">איך בא לך להתחיל?</h1><p class="sub" id="subtitle">בחר/י שלב פתיחה — נקפיץ רעיון קטן שמרגיש נכון עכשיו.</p></div>
      <div style="width:84px"></div>
    </div>

    <div class="status"><span class="chip" id="steps">צעדים: 0</span><span class="chip">נשמר באלבום ✦</span></div>

    <!-- מסך פתיחה -->
    <section id="home">
      <div class="grid" id="grid"><div class="node a"></div><div class="node b"></div><div class="node c"></div><div class="node d"></div></div>
      <div id="hint" class="flow" style="margin-top:6px"><div class="l1"></div><div class="l2"></div><div class="l3"></div></div>
      <button class="btn" id="go" disabled>מתגשם</button>
    </section>

    <!-- קלף השראה -->
    <section id="star" hidden></section>

    <!-- סיום + אלבום -->
    <section id="end" hidden></section>
  </main>
</div>

<!-- מודאל כללי -->
<div class="ov" id="ov" aria-hidden="true"><div class="modal" id="box">
  <div class="big"></div><h2>HeartWays — בקרוב מאוד ✨</h2>
  <p>המשחק המלא בדרך. נשחרר הורדה כשנפתח את השער.</p>
  <button class="btn" id="closeSoon">סגור</button>
</div></div>

<script>
/* נתוני שלבים */
const STAGES={
  be:{title:'להיות',sub:'להאט ולהרגיש את הגוף',accent:'#CCA24A',from:'#FFF1C9',to:'#FFD991',
      acts:["נשימת '4–4' במשך דקה","שחרור כתפיים/לסת","מילה טובה לעצמי"],
      line:n=>`בחרת להיות — שקט קטן עושה פלאים. צעד ${n} נשמר באלבום.`},
  play:{title:'לשחק',sub:'קלילות ותנועה',accent:'#2FBF71',from:'#D9FFE7',to:'#A6F4C5',
      acts:["3 תנועות גוף קצרות","חיוך קטן לעצמי","משחקון 60 שניות"],
      line:n=>`בחרת לשחק — תנועה קטנה מזיזה הרים. צעד ${n}.`},
  create:{title:'ליצור',sub:'רעיון + צעד ראשון',accent:'#8B6CF6',from:'#EBDFFF',to:'#CAB7FF',
      acts:["לרשום רעיון אחד","2 דקות צעד ראשון","לשתף חבר/ה לפידבק"],
      line:n=>`בחרת ליצור — התחלה טובה היא חצי דרך. צעד ${n}.`},
  connect:{title:'להתחבר',sub:'לב אל לב',accent:'#4BA3FF',from:'#E7F2FF',to:'#FFD6E6',
      acts:["הודעת לב קצרה","שיחת 5 דקות","לסגור זמן מפגש"],
      line:n=>`בחרת להתחבר — הודעה קטנה משנה יום. צעד ${n}.`}
};
const $=s=>document.querySelector(s),$$=s=>[...document.querySelectorAll(s)];
const Album={key:'hw_album',load(){try{return JSON.parse(localStorage.getItem(this.key)||'[]')}catch{return[]}},save(l){try{localStorage.setItem(this.key,JSON.stringify(l))}catch{}},push(e){const l=this.load();l.push(e);this.save(l);return l},count(){return this.load().length}};
function rgba(h,a){const m=h.slice(1),v=parseInt(m,16);return`rgba(${(v>>16)&255},${(v>>8)&255},${v&255},${a})`}
function vary(h,a=.04){const m=h.slice(1);let r=parseInt(m.substr(0,2),16),g=parseInt(m.substr(2,2),16),b=parseInt(m.substr(4,2),16);const d=((Date.now()%7)-3)*a;const c=x=>Math.max(0,Math.min(255,Math.round(x*(1+d))));return '#'+[c(r),c(g),c(b)].map(v=>v.toString(16).padStart(2,'0')).join('')}
function setAccent(x){document.documentElement.style.setProperty('--accent',x)}
function setHeader(t,s){$('#title').textContent=t;$('#subtitle').textContent=s}
function updateSteps(){$('#steps').textContent=`צעדים: ${Album.count()}`; if(Album.count()>0) $('#openAlbum').hidden=false}

/* מסך פתיחה */
function renderHome(){
  const spots={a:$('.a'),b:$('.b'),c:$('.c'),d:$('.d')}, order=['be','play','create','connect'];
  Object.entries({a:order[0],b:order[1],c:order[2],d:order[3]}).forEach(([pos,key])=>{
    const st=STAGES[key],from=vary(st.from),to=vary(st.to);
    const btn=document.createElement('button'); btn.className='choice';
    btn.style
